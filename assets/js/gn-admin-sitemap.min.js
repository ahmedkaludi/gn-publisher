function gnpub_init_modal(e=null,n=null,t=null){if(!e||!n||!t)return"";var i=document.getElementById(e),a=document.getElementById(n),l=document.getElementById(t);a&&(a.onclick=function(){i.style.display="block"}),l&&(l.onclick=function(){i.style.display="none"}),window.onclick=function(e){e.target==i&&(i.style.display="none")}}gnpub_init_modal("gnpub_modal_gnsitemap","gnpub_gnsitemap_config","gnpub_gnsitemap_close");var gnpub_sitemap_checkbox=document.getElementById("gnpub_enable_gnsitemap");gnpub_sitemap_checkbox&&gnpub_sitemap_checkbox.addEventListener("click",function(e){jQuery.ajax({url:ajaxurl,method:"post",dataType:"json",data:{action:"gnpub_save_options",option_name:"gnpub_enable_gnsitemap",option_value:!0,security_nonce:gnpub_sitemap_localize_data.gnpub_sitemap_security_nonce},success:function(e){"success"==e.status?!0==gnpub_sitemap_checkbox.checked&&(gnpub_sitemap_checkbox.type="hidden",document.getElementById("gnpub_gnsitemap_label").innerHTML=document.getElementById("gnpub_gnsitemap_label").getAttribute("data-checked"),document.getElementById("gnpub_gnsitemap_config").style.display="inline-block",document.getElementById("gnpub_disable_link_2").style.display="inline-block"):alert("options not saved , try again later")},error:function(e){alert(e)}})});var gnpub_disbale_link_2=document.getElementById("gnpub_disable_link_2");gnpub_disbale_link_2&&gnpub_disbale_link_2.addEventListener("click",function(e){let n=jQuery(this);n.text("Please Wait..."),jQuery.ajax({url:ajaxurl,method:"post",dataType:"json",data:{action:"gnpub_save_options",option_name:"gnpub_enable_gnsitemap",option_value:!1,security_nonce:gnpub_sitemap_localize_data.gnpub_sitemap_security_nonce},success:function(e){if("success"==e.status){var t=document.getElementById("gnpub_enable_gnsitemap");t.type="checkbox",t.checked=!1,document.getElementById("gnpub_gnsitemap_label").innerHTML=document.getElementById("gnpub_gnsitemap_label").getAttribute("data-unchecked"),document.getElementById("gnpub_gnsitemap_config").style.display="none",document.getElementById("gnpub_disable_link_2").style.display="none",t.style.display="inline-block",n.text("Disable")}else alert("options not saved , try again later"),n.text("Disable")},error:function(e){alert(e),n.text("Disable")}})});